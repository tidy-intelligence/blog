from siuba import _, filter, group_by
from siuba import _, filter, group_by
from palmerpenguins import load_penguins
penguins = load_penguins()
penguins >> filter(_.species == "Adelie")
(penguins
>> filter((_.species == "Adelie") & (_.island.isin(["Biscoe", "Dream"])))
)
(penguins
>> filter(_.species == "Adelie" & (_.island.isin(["Biscoe", "Dream"])))
)
(penguins
>> filter((_.species == "Adelie") &
(_.island.isin(["Biscoe", "Dream"])))
)
from siuba import _, filter, slice, group_by
from siuba import _, filter, arrange, group_by
(penguins
>> arrange(_.island, -_.bill_length_mm)
)
(penguins
>> arrange(_.island, desc(_.bill_length_mm))
)
(penguins
>> arrange(_.island, -_.bill_length_mm)
)
from siuba import _, filter, arrange, selec, mutate, group_by, summarize
from siuba import _, filter, arrange, select, mutate, group_by, summarize
(penguins
>> select(_.bill_length_mm, _.sex)
)
from siuba import _, filter, arrange, select, rename, mutate, group_by, summarize
(penguins
>> rename(bill_length = _.bill_length_mm,
bill_depth = _.bill_depth_mm)
)
(penguins
>> mutate(ones = 1,
bill_length = _.bill_length_mm / 10,
bill_length_squared = _.bill_length ** 2)
>> select(_.ones, _.bill_length_mm, _.bill_length, _.bill_length_squared)
)
penguins >> select(
_.species,
_.bill_length_mm,
_.sex,
*[col for col in penguins.columns if col not in ["species", "bill_length_mm", "sex"]]
)
(penguins
>> group_by(_.island)
>> summarize(bill_depth_mean = _.bill_depth_mm.mean())
)
(penguins
>> group_by(_.island)
>> summarize(
count = _.island.count(),
bill_depth_mean = _.bill_depth_mm.mean(),
flipper_length_median = _.flipper_length_mm.median(),
body_mass_sd = _.body_mass_g.std(),
share_female = (_.sex == "female").mean()
)
)
(penguins
>> group_by(_.island)
>> summarize(count = _.island.count(),
bill_depth_mean = _.bill_depth_mm.mean(),
flipper_length_median = _.flipper_length_mm.median(),
body_mass_sd = _.body_mass_g.std(),
share_female = (_.sex == "female").mean())
)
penguins
>> select(_.species, _.bill_length_mm, _.sex,
*[col for col in penguins.columns if col not in ["species", "bill_length_mm", "sex"]])
penguins.iloc[9:19]
